package com.sec.imslogger.data

import android.content.ContentValues
import android.content.Context
import android.database.Cursor
import android.net.Uri

class RcsDbQuery(context: Context) : BaseMCSDBQuery(context, Uri.parse("content://rcs")) {

    fun queryAndFillTable(table: TableLayout) {
        val cursor = query(projection = arrayOf("address", "body", "date"))
        cursor?.let {
            it.moveToFirst() // Move to the first row (header)
            while (it.moveToNext()) { // Start filling from the second row
                val newRow = TableRow(context)
                val address = it.getString(it.getColumnIndex("address"))
                val body = it.getString(it.getColumnIndex("body"))
                val date = it.getString(it.getColumnIndex("date"))

                newRow.addView(createTextView(address))
                newRow.addView(createTextView(body))
                newRow.addView(createTextView(date))

                table.addView(newRow)
            }
            it.close()
        }
    }

    private fun createTextView(text: String): TextView {
        return TextView(context).apply {
            setText(text)
            layoutParams = TableRow.LayoutParams(
                TableRow.LayoutParams.WRAP_CONTENT,
                TableRow.LayoutParams.WRAP_CONTENT
            )
            setPadding(8, 8, 8, 8)
        }
    }

    fun exampleFunction(slotId: String) {
        // Implement function logic here using slotId
    }
}
